// room script file

function room_LeaveBottom()
{
  PlaySound(4);
  player.ChangeRoom(2,118, 161);
}

function room_LeaveRight()
{
  player.ChangeRoom(8,16, 219);
}

function hHotspot1_Look()
{
  Displayc("Dìdova chaloupka.");
}

function hHotspot0_Look()
{
  Displayc("Stojíš pøed dìdovou chaloupkou. Vpravo vede pìšina ke kurníku.");
}

function hHotspot2_Interact()
{
  cEgo.Walk(103, 194, eBlock);
  PlaySound(1);
  player.ChangeRoom(10,77, 127);
  cEgo.LockViewFrame(NORMAL_CHUZE, 4, 0);
}

function hHotspot1_Interact()
{
  Display(nicTamNeni ());
}

function hHotspot1_Talk()
{
  Display(nicNemluvi());
}

function hHotspot2_Talk()
{
  Display(nicNemluvi());
}

function hHotspot2_Look()
{
  Displayc("Dveøe k dìdovi do svìtnièky.");
}

function hHotspot3_Interact()
{
  if (JeNoc()) {
    Displayc("Mohla by to být krásná romantika, sedìt tu na lavièce a pozorovat hvìzdy. Radìji si ale jdi odpoèinou rovnou do postele za pec.");
  } else {
    Displayc("Sed na zadnici?");
    ShowDialog2(4, "Jak dlouho si chceš odpoèinout?","ètvrt hodinky","hodinu");
  }
}

function hHotspot3_Look()
{
  //Displayc("Lavièka. Je na ní nìco od ptáèka.");
  Displayc("Lavièka. Na odpoèinek na èerstvém vzdoušku naprosto ideální.");
}

function hHotspot3_Talk()
{
  Displayc(nicNemluvi());
}

function hHotspot3_UseInv()
{
  Displayc("Na lavièku jde použít akorát zadnice.");
}

function hHotspot0_Interact()
{
  Displayc(nicTamNeni());
}

function hHotspot0_Talk()
{
  Displayc(nicNemluvi());
}

function hHotspot0_UseInv()
{
  Displayc(nicNejdePouzit());
}

function Room_Load()
{
  PlayBgMusic(aMusic2);
}

function room_AfterFadeIn()
{
  if (udedy_skrinka_faze == 100) {
     Displayc("Bohužel dìda zjistil, že jsi se hrabal v jeho vìcech. Nemáš jinou možnost než odejít...");
     Wait(50);
     player.Walk(65, 239, eBlock, eWalkableAreas);
  }
}

function on_call (int value) {
  player.Walk(168, 200, eBlock, eWalkableAreas);
  player.Loop = 0;
  Wait(20);
  player.Loop = 10;

  if (value == 0) {
    // sed na lavicku na 15min
    Wait(15);
    FadeOut(5);
    Wait(15);
    minute += 15;
    FadeIn(5);
  }

  if (value == 1) {
    // sed na lavicku na hodinku
    Wait(15);   
    FadeOut(5);
    Wait(60);
    hour ++;
    FadeIn(5);
  }
  Displayc("Krásnì jsi si odpoèinul, vstát mùžeš, až se ti bude chtít.");
}

